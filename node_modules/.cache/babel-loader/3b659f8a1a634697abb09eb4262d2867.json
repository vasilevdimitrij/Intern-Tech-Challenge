{"ast":null,"code":"import _regeneratorRuntime from \"C:\\\\Users\\\\vasil\\\\Desktop\\\\ass\\\\hotelreviewer-main\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/regenerator\";\nimport _slicedToArray from \"C:\\\\Users\\\\vasil\\\\Desktop\\\\ass\\\\hotelreviewer-main\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/slicedToArray\";\nimport _objectSpread from \"C:\\\\Users\\\\vasil\\\\Desktop\\\\ass\\\\hotelreviewer-main\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/objectSpread2\";\nvar _jsxFileName = \"C:\\\\Users\\\\vasil\\\\Desktop\\\\ass\\\\hotelreviewer-main\\\\src\\\\context\\\\HotelsContextProvider.js\";\nimport React from 'react';\nimport Api from '../api';\nexport var HotelsContext = React.createContext();\nvar initialValue = {\n  hotels: [],\n  hotel: {},\n  loading: true,\n  error: ''\n};\n\nvar reducer = function reducer(value, action) {\n  switch (action.type) {\n    case 'GET_HOTELS_SUCCESS':\n      return _objectSpread({}, value, {\n        hotels: action.payload,\n        loading: false\n      });\n\n    case 'GET_HOTELS_ERROR':\n      return _objectSpread({}, value, {\n        hotels: [],\n        loading: false,\n        error: action.payload\n      });\n\n    case 'GET_HOTEL_SUCCESS':\n      return _objectSpread({}, value, {\n        hotel: action.payload,\n        loading: false\n      });\n\n    case 'GET_HOTEL_ERROR':\n      return _objectSpread({}, value, {\n        hotel: {},\n        loading: false,\n        error: action.payload\n      });\n\n    default:\n      return value;\n  }\n};\n\nvar HotelsContextProvider = function HotelsContextProvider(_ref) {\n  var children = _ref.children;\n\n  var _React$useReducer = React.useReducer(reducer, initialValue),\n      _React$useReducer2 = _slicedToArray(_React$useReducer, 2),\n      value = _React$useReducer2[0],\n      dispatch = _React$useReducer2[1];\n\n  var getHotelsRequest = function getHotelsRequest() {\n    var result;\n    return _regeneratorRuntime.async(function getHotelsRequest$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            _context.next = 2;\n            return _regeneratorRuntime.awrap(Api.fetchData('https://my-json-server.typicode.com/pranayfpackt/-React-Projects/hotels'));\n\n          case 2:\n            result = _context.sent;\n\n            if (result.data && result.data.length) {\n              dispatch({\n                type: 'GET_HOTELS_SUCCESS',\n                payload: result.data\n              });\n            } else {\n              dispatch({\n                type: 'GET_HOTELS_ERROR',\n                payload: result.error\n              });\n            }\n\n          case 4:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    });\n  };\n\n  var getHotelRequest = function getHotelRequest(id) {\n    var result;\n    return _regeneratorRuntime.async(function getHotelRequest$(_context2) {\n      while (1) {\n        switch (_context2.prev = _context2.next) {\n          case 0:\n            _context2.next = 2;\n            return _regeneratorRuntime.awrap(Api.fetchData(\"https://my-json-server.typicode.com/pranayfpackt/-React-Projects/hotels/\".concat(id)));\n\n          case 2:\n            result = _context2.sent;\n\n            if (result.data && result.data.hasOwnProperty('id')) {\n              dispatch({\n                type: 'GET_HOTEL_SUCCESS',\n                payload: result.data\n              });\n            } else {\n              dispatch({\n                type: 'GET_HOTEL_ERROR',\n                payload: result.error\n              });\n            }\n\n          case 4:\n          case \"end\":\n            return _context2.stop();\n        }\n      }\n    });\n  };\n\n  return React.createElement(HotelsContext.Provider, {\n    value: _objectSpread({}, value, {\n      getHotelsRequest: getHotelsRequest,\n      getHotelRequest: getHotelRequest\n    }),\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 74\n    },\n    __self: this\n  }, children);\n};\n\nexport default HotelsContextProvider;","map":{"version":3,"sources":["C:/Users/vasil/Desktop/ass/hotelreviewer-main/src/context/HotelsContextProvider.js"],"names":["React","Api","HotelsContext","createContext","initialValue","hotels","hotel","loading","error","reducer","value","action","type","payload","HotelsContextProvider","children","useReducer","dispatch","getHotelsRequest","fetchData","result","data","length","getHotelRequest","id","hasOwnProperty"],"mappings":"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","sourcesContent":["import React from 'react';\nimport Api from '../api';\n\nexport const HotelsContext = React.createContext();\n\nconst initialValue = {\n  hotels: [],\n  hotel: {},\n  loading: true,\n  error: '',\n};\n\nconst reducer = (value, action) => {\n  switch (action.type) {\n    case 'GET_HOTELS_SUCCESS':\n      return {\n        ...value,\n        hotels: action.payload,\n        loading: false,\n      };\n    case 'GET_HOTELS_ERROR':\n      return {\n        ...value,\n        hotels: [],\n        loading: false,\n        error: action.payload,\n      };\n    case 'GET_HOTEL_SUCCESS':\n      return {\n        ...value,\n        hotel: action.payload,\n        loading: false,\n      };\n    case 'GET_HOTEL_ERROR':\n      return {\n        ...value,\n        hotel: {},\n        loading: false,\n        error: action.payload,\n      };\n    default:\n      return value;\n  }\n};\n\nconst HotelsContextProvider = ({ children }) => {\n  const [value, dispatch] = React.useReducer(reducer, initialValue);\n\n  const getHotelsRequest = async () => {\n    const result = await Api.fetchData(\n      'https://my-json-server.typicode.com/pranayfpackt/-React-Projects/hotels',\n    );\n\n    if (result.data && result.data.length) {\n      dispatch({ type: 'GET_HOTELS_SUCCESS', payload: result.data });\n    } else {\n      dispatch({ type: 'GET_HOTELS_ERROR', payload: result.error });\n    }\n  };\n\n  const getHotelRequest = async id => {\n    const result = await Api.fetchData(\n      `https://my-json-server.typicode.com/pranayfpackt/-React-Projects/hotels/${id}`,\n    );\n\n    if (result.data && result.data.hasOwnProperty('id')) {\n      dispatch({ type: 'GET_HOTEL_SUCCESS', payload: result.data });\n    } else {\n      dispatch({ type: 'GET_HOTEL_ERROR', payload: result.error });\n    }\n  };\n\n  return (\n    <HotelsContext.Provider\n      value={{ ...value, getHotelsRequest, getHotelRequest }}\n    >\n      {children}\n    </HotelsContext.Provider>\n  );\n};\n\nexport default HotelsContextProvider;\n"]},"metadata":{},"sourceType":"module"}