{"ast":null,"code":"import _taggedTemplateLiteral from \"C:\\\\Users\\\\vasil\\\\Desktop\\\\ass\\\\hotelreviewer-main\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/taggedTemplateLiteral\";\nvar _jsxFileName = \"C:\\\\Users\\\\vasil\\\\Desktop\\\\ass\\\\hotelreviewer-main\\\\src\\\\components\\\\Detail\\\\Detail.js\";\n\nfunction _templateObject2() {\n  var data = _taggedTemplateLiteral([\"\\n  width: 100%;\\n  text-align: center;\\n\"]);\n\n  _templateObject2 = function _templateObject2() {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _templateObject() {\n  var data = _taggedTemplateLiteral([\"\\n  display: flex;\\n  justify-content: space-between;\\n  flex-direction: column;\\n  margin: 2% 5%;\\n\"]);\n\n  _templateObject = function _templateObject() {\n    return data;\n  };\n\n  return data;\n}\n\nimport React from 'react';\nimport styled from 'styled-components';\nimport { HotelsContext } from '../../context/HotelsContextProvider';\nimport { ReviewsContext } from '../../context/ReviewsContextProvider';\nimport SubHeader from '../Header/SubHeader';\nimport ReviewItem from './ReviewItem';\nvar ReviewsWrapper = styled.div(_templateObject());\nvar Alert = styled.span(_templateObject2());\n\nvar Detail = function Detail(_ref) {\n  var match = _ref.match,\n      history = _ref.history;\n\n  var _React$useContext = React.useContext(HotelsContext),\n      hotel = _React$useContext.hotel,\n      getHotelRequest = _React$useContext.getHotelRequest;\n\n  var _React$useContext2 = React.useContext(ReviewsContext),\n      loading = _React$useContext2.loading,\n      error = _React$useContext2.error,\n      reviews = _React$useContext2.reviews,\n      getReviewsRequest = _React$useContext2.getReviewsRequest;\n\n  React.useEffect(function () {\n    getHotelRequest(match.params.id);\n\n    if (!reviews.length > 0) {\n      getReviewsRequest(match.params.id);\n    }\n  }, [getHotelRequest, getReviewsRequest, match.params.id, reviews.length]);\n  return !loading && !error ? React.createElement(React.Fragment, null, history && hotel && React.createElement(SubHeader, {\n    goBack: function goBack() {\n      return history.goBack();\n    },\n    title: hotel.title,\n    openForm: function openForm() {\n      return history.push(\"\".concat(match.url, \"/new\"));\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 36\n    },\n    __self: this\n  }), React.createElement(ReviewsWrapper, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 42\n    },\n    __self: this\n  }, reviews && reviews.map(function (review) {\n    return React.createElement(ReviewItem, {\n      key: review.id,\n      data: review,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 44\n      },\n      __self: this\n    });\n  }))) : React.createElement(Alert, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 48\n    },\n    __self: this\n  }, loading ? 'Loading...' : error);\n};\n\nexport default Detail;","map":{"version":3,"sources":["C:/Users/vasil/Desktop/ass/hotelreviewer-main/src/components/Detail/Detail.js"],"names":["React","styled","HotelsContext","ReviewsContext","SubHeader","ReviewItem","ReviewsWrapper","div","Alert","span","Detail","match","history","useContext","hotel","getHotelRequest","loading","error","reviews","getReviewsRequest","useEffect","params","id","length","goBack","title","push","url","map","review"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,OAAOC,MAAP,MAAmB,mBAAnB;AACA,SAASC,aAAT,QAA8B,qCAA9B;AACA,SAASC,cAAT,QAA+B,sCAA/B;AACA,OAAOC,SAAP,MAAsB,qBAAtB;AACA,OAAOC,UAAP,MAAuB,cAAvB;AAEA,IAAMC,cAAc,GAAGL,MAAM,CAACM,GAAV,mBAApB;AAOA,IAAMC,KAAK,GAAGP,MAAM,CAACQ,IAAV,oBAAX;;AAKA,IAAMC,MAAM,GAAG,SAATA,MAAS,OAAwB;AAAA,MAArBC,KAAqB,QAArBA,KAAqB;AAAA,MAAdC,OAAc,QAAdA,OAAc;;AAAA,0BACFZ,KAAK,CAACa,UAAN,CAAiBX,aAAjB,CADE;AAAA,MAC7BY,KAD6B,qBAC7BA,KAD6B;AAAA,MACtBC,eADsB,qBACtBA,eADsB;;AAAA,2BAEkBf,KAAK,CAACa,UAAN,CACrDV,cADqD,CAFlB;AAAA,MAE7Ba,OAF6B,sBAE7BA,OAF6B;AAAA,MAEpBC,KAFoB,sBAEpBA,KAFoB;AAAA,MAEbC,OAFa,sBAEbA,OAFa;AAAA,MAEJC,iBAFI,sBAEJA,iBAFI;;AAMrCnB,EAAAA,KAAK,CAACoB,SAAN,CAAgB,YAAM;AACpBL,IAAAA,eAAe,CAACJ,KAAK,CAACU,MAAN,CAAaC,EAAd,CAAf;;AACA,QAAI,CAACJ,OAAO,CAACK,MAAT,GAAkB,CAAtB,EAAyB;AACvBJ,MAAAA,iBAAiB,CAACR,KAAK,CAACU,MAAN,CAAaC,EAAd,CAAjB;AACD;AACF,GALD,EAKG,CAACP,eAAD,EAAkBI,iBAAlB,EAAqCR,KAAK,CAACU,MAAN,CAAaC,EAAlD,EAAsDJ,OAAO,CAACK,MAA9D,CALH;AAOA,SAAO,CAACP,OAAD,IAAY,CAACC,KAAb,GACL,0CACGL,OAAO,IAAIE,KAAX,IACC,oBAAC,SAAD;AACE,IAAA,MAAM,EAAE;AAAA,aAAMF,OAAO,CAACY,MAAR,EAAN;AAAA,KADV;AAEE,IAAA,KAAK,EAAEV,KAAK,CAACW,KAFf;AAGE,IAAA,QAAQ,EAAE;AAAA,aAAMb,OAAO,CAACc,IAAR,WAAgBf,KAAK,CAACgB,GAAtB,UAAN;AAAA,KAHZ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAFJ,EAQE,oBAAC,cAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACGT,OAAO,IACNA,OAAO,CAACU,GAAR,CAAY,UAAAC,MAAM;AAAA,WAAI,oBAAC,UAAD;AAAY,MAAA,GAAG,EAAEA,MAAM,CAACP,EAAxB;AAA4B,MAAA,IAAI,EAAEO,MAAlC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAAJ;AAAA,GAAlB,CAFJ,CARF,CADK,GAeL,oBAAC,KAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAQb,OAAO,GAAG,YAAH,GAAkBC,KAAjC,CAfF;AAiBD,CA9BD;;AAgCA,eAAeP,MAAf","sourcesContent":["import React from 'react';\nimport styled from 'styled-components';\nimport { HotelsContext } from '../../context/HotelsContextProvider';\nimport { ReviewsContext } from '../../context/ReviewsContextProvider';\nimport SubHeader from '../Header/SubHeader';\nimport ReviewItem from './ReviewItem';\n\nconst ReviewsWrapper = styled.div`\n  display: flex;\n  justify-content: space-between;\n  flex-direction: column;\n  margin: 2% 5%;\n`;\n\nconst Alert = styled.span`\n  width: 100%;\n  text-align: center;\n`;\n\nconst Detail = ({ match, history }) => {\n  const { hotel, getHotelRequest } = React.useContext(HotelsContext);\n  const { loading, error, reviews, getReviewsRequest } = React.useContext(\n    ReviewsContext,\n  );\n\n  React.useEffect(() => {\n    getHotelRequest(match.params.id);\n    if (!reviews.length > 0) {\n      getReviewsRequest(match.params.id);\n    }\n  }, [getHotelRequest, getReviewsRequest, match.params.id, reviews.length]);\n\n  return !loading && !error ? (\n    <>\n      {history && hotel && (\n        <SubHeader\n          goBack={() => history.goBack()}\n          title={hotel.title}\n          openForm={() => history.push(`${match.url}/new`)}\n        />\n      )}\n      <ReviewsWrapper>\n        {reviews &&\n          reviews.map(review => <ReviewItem key={review.id} data={review} />)}\n      </ReviewsWrapper>\n    </>\n  ) : (\n    <Alert>{loading ? 'Loading...' : error}</Alert>\n  );\n};\n\nexport default Detail;\n"]},"metadata":{},"sourceType":"module"}